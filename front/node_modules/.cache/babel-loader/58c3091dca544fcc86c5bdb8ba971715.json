{"ast":null,"code":"import \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport types from '@/helpers/types';\nimport axios from 'axios';\nexport default {\n  name: 'HomeView',\n  data: function data() {\n    return {\n      selectedType: 'education',\n      availableTypes: types.availableTypes,\n      fetchedData: {}\n    };\n  },\n  computed: {\n    tableData: function tableData() {\n      var type = this.selectedType;\n      var fetchedData = Object.entries(this.fetchedData);\n      var tableData = fetchedData.find(function (el) {\n        return el[0] === type;\n      });\n      console.log(tableData);\n      return tableData[1]; // return this.fetchedData[type];\n    }\n  },\n  mounted: function mounted() {\n    // retrieve first data\n    this.retrieveData('education');\n  },\n  watch: {\n    selectedType: function selectedType(val) {\n      if (!this.fetchedData[val]) {\n        this.retrieveData(val);\n      }\n    }\n  },\n  methods: {\n    retrieveData: function retrieveData(type) {\n      var _this = this;\n\n      axios.get(\"http://localhost:3000/census?type=\".concat(type)).then(function (response) {\n        if (response.status === 200) {\n          _this.fetchedData[type] = response.data.data;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AAEA;AACAA,kBADA;AAGAC,MAHA,kBAGA;AACA;AACAC,+BADA;AAEAC,0CAFA;AAGAC;AAHA;AAKA,GATA;AAWAC;AACAC,aADA,uBACA;AACA;AACA;AACA;AAAA;AAAA;AACAC;AACA,0BALA,CAMA;AACA;AARA,GAXA;AAsBAC,SAtBA,qBAsBA;AACA;AACA;AACA,GAzBA;AA2BAC;AACAP,gBADA,wBACAQ,GADA,EACA;AACA;AACA;AACA;AACA;AALA,GA3BA;AAmCAC;AACAC,gBADA,wBACAC,IADA,EACA;AAAA;;AACAC;AACA;AACA;AACA;AACA,OAJA;AAKA;AAPA;AAnCA","names":["name","data","selectedType","availableTypes","fetchedData","computed","tableData","console","mounted","watch","val","methods","retrieveData","type","axios"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <select name=\"type selector\" v-model=\"selectedType\">\n      <option v-for=\"type in availableTypes\" :key=\"type.value\" :value=\"type.value\">\n        {{ type.label }}\n      </option>\n    </select>\n\n    <template>\n     <el-table\n      :data=\"tableData\">\n      <el-table-column\n        :prop=\"selectedType\"\n        :label=\"selectedType\"\n        width=\"350\">\n      </el-table-column>\n      <el-table-column\n        prop=\"average_age\"\n        label=\"age\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"count\"\n        label=\"Count\"\n        width=\"180\">\n      </el-table-column>\n      </el-table>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport types from '@/helpers/types';\nimport axios from 'axios';\n\nexport default {\n  name: 'HomeView',\n\n  data() {\n    return {\n      selectedType: 'education',\n      availableTypes: types.availableTypes,\n      fetchedData: {},\n    };\n  },\n\n  computed: {\n    tableData() {\n      const type = this.selectedType;\n      const fetchedData = Object.entries(this.fetchedData);\n      const tableData = fetchedData.find((el) => el[0] === type);\n      console.log(tableData);\n      return tableData[1];\n      // return this.fetchedData[type];\n    },\n  },\n\n  mounted() {\n    // retrieve first data\n    this.retrieveData('education');\n  },\n\n  watch: {\n    selectedType(val) {\n      if (!this.fetchedData[val]) {\n        this.retrieveData(val);\n      }\n    },\n  },\n\n  methods: {\n    retrieveData(type) {\n      axios.get(`http://localhost:3000/census?type=${type}`).then((response) => {\n        if (response.status === 200) {\n          this.fetchedData[type] = response.data.data;\n        }\n      });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}